{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} - Register user{% endblock %}

{% block body %}

{{ form_start(registrationFormular) }}	
<table class="register_user">
  <tr>
    <th>{{ form_label(registrationFormular.username) }}</th>
    <th>{{ form_widget(registrationFormular.username) }}</th> 

  </tr>
  <tr>
    <td>{{ form_label(registrationFormular.firstname) }}</td>
    <td>{{ form_widget(registrationFormular.firstname) }}</td> 

  </tr>
  <tr>
    <td>{{ form_label(registrationFormular.lastname) }}</td>
    <td>{{ form_widget(registrationFormular.lastname) }}</td> 
  </tr>
  
    <tr>
    <td>{{ form_label(registrationFormular.password) }}</td>
    <td>{{ form_widget(registrationFormular.password) }}</td> 

  </tr>
  <tr>
    <td></td>
    <td>{{ form_row(registrationFormular.submit) }}</td> 

  </tr>
  
</table>
{{ form_rest(registrationFormular) }}
{{ form_end(registrationFormular)}}

{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script src="/js/register.js" type="text/javascript"></script>
	
{#	<script src="/js/UsernameValidator.js" type="text/javascript"></script>
	<script src="/js/register.js" type="text/javascript"></script>
	<script type="text/javascript">
		var validator = new UsernameValidator('#form_username', '{{ path('username_available') }}', 'POST', {{ app.debug ? 'true' : 'false' }});
		validator.setCallback(usernameValidatorCallback);
		validator.setBefore(beforeValidate);
		$('#form_username').on('change', function(){ validator.validate(); });
		$('#form_username').on('keyup', function(){ validator.validate(); });
		$('#form_username').on('paste', function(){ validator.validate(); });
		$('#form_username').on('drop', function(data){
			data.originalEvent.preventDefault();
			$('#form_username').val(data.originalEvent.dataTransfer.getData("Text"));
			validator.validate(); 
		});#}
		
	</script>
{% endblock %}